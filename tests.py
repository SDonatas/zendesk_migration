from main import parseFunctions, path
import json
post_conf = json.load(open(path + "/conf/" + "post.json", 'r'))



test_dic = [{"field_name": {"custom_fields": "id"},
            "from_id": 29944749,
            "to_id": 360006250900
        }]

row = {"url": "https://payreto.zendesk.com/api/v2/tickets/36441.json", "id": 36441, "external_id": None, "via": {"channel": "api", "source": {"from": {}, "to": {}, "rel": None}}, "created_at": "2016-10-04T14:08:49Z", "updated_at": "2016-10-04T18:03:55Z", "type": None, "subject": "RE: Incident# 2002 is assigned to you", "raw_subject": "RE: Incident# 2002 is assigned to you", "description": "original_ticket_id_4672\n\nHi Sumant,\n\nCan you please sent me and example of a file that you have in PayOn with some extra CustomParameters fields, and the Daily File from AX that misses those fields?\nThanks.\n\n\n\nKind Regards.\n\nAXSupport Team.---------------------------------------------------------------------------------------------------------------------------------------------\nFrom: OfficeITSupport@payvision.com\nTo: A.Marques@payvision.com\n\nHi Ana Marques,\n\nThe following Incident has been assigned to you:\n\nIncident # 2002\nSummary: including the customParameters in reconciliation files\nCustomer Name: Sumant Bhagwat Acapture\nLocation:\nPriority: 3\nStatus: Active\nCategory: AXSupport\nDescription\nDear Ana,\n\nThe clients send customParameters with the payments and at the moment, the daily transaction reports shows all of them. However the Acapture Reconciliation reports are filtering them, although we were told that the feature already exists.\n\nSo for me it is a bug and needs to be fixed. We have a client going live end of this month and they do want this fix.\n\nCan we fix it?\n\n\nKind regards,\n\nSumant Bhagwat\nTechnical Sales Manager\n\nM: +31615894247\nE: s.bhagwat@acapture.com\nW: www.acapture.com\n\n[cid:image002.png@01D21269.E9C9ACA0]\nAcapture B.V.\nMolenpad 2\n1016 GM Amsterdam\nThe Netherlands\n\n\nDisclaimer:\nThis e-mail message is intended exclusively for the addressee or addressees. If the e-mail was sent to you by mistake, would you please contact us immediately by e-mail at s.bhagwat@acapture.com. In that case, we also request that you destroy the e-mail and that you neither use the contents nor disclose them in any manner to third parties, because the message may contain confidential information.\n\n[cid:image003.png@01D21E3E.2B026AB0]\nPlease consider the environment before printing this e-mail\n\nOpen Incident Record in main application:\nhttps://itsupport.payvision.com/HEAT//Login.aspx?Scope=ObjectWorkspace&CommandId=Search&ObjectType=Incident%23&CommandData=RecId,=,0,55DA07CB1D43496DBCA2CE64784110D2,string,AND%7C#", "priority": None, "status": "closed", "recipient": None, "requester_id": 5788023025, "submitter_id": 5788023025, "assignee_id": None, "organization_id": 4625122189, "group_id": 24828829, "collaborator_ids": [4077797445], "follower_ids": [4077797445], "email_cc_ids": [], "forum_topic_id": None, "problem_id": None, "has_incidents": False, "is_public": True, "due_at": None, "tags": ["acapture", "migrated_from_acapture", "noted", "payvision___acapture", "tech-support.cologne", "tech__consulting"], "custom_fields": [{"id": 29804229, "value": "payvision___acapture"}, {"id": 29804249, "value": None}, {"id": 29804269, "value": None}, {"id": 29804289, "value": None}, {"id": 30090565, "value": None}, {"id": 30090585, "value": ""}, {"id": 29947225, "value": "tech__consulting"}, {"id": 30090605, "value": None}, {"id": 29947245, "value": None}, {"id": 29944709, "value": None}, {"id": 29944729, "value": ""}, {"id": 29944749, "value": None}, {"id": 29944769, "value": None}], "satisfaction_rating": None, "sharing_agreement_ids": [], "fields": [{"id": 29804229, "value": "payvision___acapture"}, {"id": 29804249, "value": None}, {"id": 29804269, "value": None}, {"id": 29804289, "value": None}, {"id": 30090565, "value": None}, {"id": 30090585, "value": ""}, {"id": 29947225, "value": "tech__consulting"}, {"id": 30090605, "value": None}, {"id": 29947245, "value": None}, {"id": 29944709, "value": None}, {"id": 29944729, "value": ""}, {"id": 29944749, "value": None}, {"id": 29944769, "value": None}], "followup_ids": [], "ticket_form_id": None, "brand_id": 1077589, "satisfaction_probability": None, "allow_channelback": False, "allow_attachments": True, "generated_timestamp": 1476864797, "comments": []}


result = parseFunctions.transfer_objects(row, test_dic)

#print(result)